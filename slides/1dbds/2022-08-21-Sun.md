1.3 数据库系统结构

型 (type): 对某一类数据的结构和属性的说明
例: 干员 (名字, 身高, 生日, 种族, 职业)
值 (value): 型的具体赋值
例: 阿米娅 (阿米娅, 143, 12.23, 兔, 术师)
模式 (schema): 数据库中全体数据的逻辑结构和特征的描述, 只涉及到型, 不涉及到值
可以粗略地理解为数据库
实例 (instance): 模式的具体值
可以粗略地理解为数据库和其中的所有数据
模式反映的是数据的结构及其关系
实例反映的是数据库某一时刻的状态

从 DBMS角度看, 数据库系统通常采用三级模式结构
外模式 (子模式)
模式 (逻辑模式, 概念模式)
内模式 (存储模式, 物理模式)
外模式/模式映象
模式/内模式映象

从用户角度看, 数据库系统分为四种结构
单用户结构
主从式结构
分布式结构
客户/服务器结构


逻辑 VS 物理
逻辑路径, 物理路径
逻辑结构, 物理结构
逻辑表, 物理表
虚拟的, 实际的
功能的, 基础设施的
人的视角, 计算机的视角

模式 (Schema)
也叫逻辑模式或概念模式
是数据库系统中全局数据逻辑结构的描述
主要描述数据的概念记录类型及数据以及它们之间的关系
一个数据库只有一个模式
是数据库数据在逻辑级上的视图
数据库模式以某一种数据模型为基础

外模式 (External Schema)
也叫子模式或用户模式
是用户看见和使用的, 局部数据的逻辑结构和特征描述
是数据库用户的数据视图
一个数据库可以有多个外模式
一个应用程序只能使用一个外模式
外模式是保证数据安全的有力措施

内模式 (Internal Schema)
也叫存储模式或物理模式
是数据物理结构和存储结构的描述
是数据在数据库内部的表示方式
一个数据库只有一个内模式

外模式/模式映象
定义了外模式和模式之间的对应关系
当模式改变时, 外模式可以保持不变, 保证了数据的逻辑独立性
映象定义在各自外模式的描述中

模式/内模式映象
模式/内模式映象在数据库中是唯一的
它定义了数据全局逻辑结构与存储结构之间的对应关系
可以保证数据的物理独立性
映象定义在模式的描述中

数据库系统的体系结构
单用户数据库系统
整个数据库系统由一个用户独占
主从式结构的数据库系统
一台主机带多个终端, 数据库系统存放在主机上
分布式结构的数据库系统
数据在逻辑上是一个整体, 但是在物理上分散
客户/服务器结构的数据库系统
拥有专门的数据库服务器

1.4 数据库系统的组成

数据库系统一般由数据库, 数据库管理系统及其应用开发工具, 应用程序和数据库管理员构成

硬件平台及数据库
内存够大
外存够大
带宽够大

软件
数据库管理系统
操作系统
具有与数据库接口的语言及编译系统
以数据库管理系统为核心的应用开发工具
为特定应用环境开发的数据库应用系统

人员
数据库管理员
系统分析员
数据库设计人员
应用程序员
最终用户

数据库管理员 (DataBase Administrator, DBA)
负责全面管理和控制数据库系统
决定数据库中的信息内容和结构
决定数据库的存储结构和存取策略
定义数据的安全性要求和完整性约束条件
监控数据库的使用和运行
数据库的改进和重组重构

系统分析员
负责应用系统的需求分析和规范说明
配合用户及数据库管理员
确定系统的硬件软件配置
参与数据库系统的概要设计

数据库设计人员
负责数据库中数据的确定及数据库各级模式的设计
参加用户需求调查
参加系统分析
完成数据库设计
往往由数据库管理员担任

应用程序员
设计和编写应用系统
调试
部署

用户
通过应用系统的用户接口使用数据库
偶然用户
简单用户
复杂用户

数据库管理系统 (DBMS) 是为数据库的建立, 使用和维护而配置的软件
DBMS位于操作系统和用户之间
操作数据库中数据的命令, 通过 DBMS来执行
DBMS还承担着数据库的维护工作, 保证数据库的安全性和完整性

数据库管理系统的功能
数据定义
数据操纵
数据库运行管理
数据组织, 存储和管理
数据库的建立和维护
数据通信接口
数据定义语言及其翻译处理程序
数据操纵语言及其编译 (或解释) 程序
数据库运行控制程序
实用程序

数据定义
数据库结构的模式, 内模式, 外模式
各个外模式与模式之间的映射
模式与内模式之间的映射
相关的约束条件, 如完整性规则, 用户口令, 存取权限等

数据操纵
检索
插入
修改
删除

数据库运行管理
对数据库进行并发控制
安全性检查
完整性约束条件的检查与执行
数据库的索引, 数据字典维护
保证数据的安全性, 完整性, 一致性以及并发使用

数据组织, 存储和管理
组织, 存储和管理数据字典, 用户数据, 存取路径等数据
提高存储空间利用率
提高数据操作时间效率

数据库的建立和维护
数据库初始数据的输入与数据转换
数据库的转储与恢复
数据库的重组织与重构造
数据库性能的监视与分析

数据通信接口
提供与其它 DBMS, 软件系统, 文件系统的接口
转换数据格式
接收来自其他 DBMS 或者文件系统的数据

数据定义语言及其翻译处理程序
数据定义语言 (DDL, Data Definition Language)
用于定义数据库的模式, 内模式, 外模式, 映射, 约束条件等
DDL 定义模式 -> 翻译程序翻译模式 ->存放在数据字典中

数据操纵语言及其编译 (或解释) 程序
数据操纵语言 (DML, Data Manipulation Language)
用于实现 CRUD
分为宿主型和自主型 (自含型) 两类
宿主型 DML 需要嵌入到其他高级编程语言中
自主型 DML 使用交互式命令

数据库运行控制程序
负责数据库运行过程中的控制和管理
系统初启程序, 文件读写与维护程序, 存储路径管理程序
缓冲区管理程序, 安全性控制程序, 完整性检查程序
并发控制程序, 事务管理程序, 运行日志管理程序等

实用程序
数据初始装入程序, 数据转储程序, 数据恢复程序
性能检测程序, 数据库再组织程序, 数据转换程序, 通信程序等

一个设计优良的数据管理系统, 应该具有友好的用户界面, 完备的功能, 较高的运行效率, 清晰的系统结构和开放性
