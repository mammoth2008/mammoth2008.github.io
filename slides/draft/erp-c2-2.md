预计可用库存量初值=20-90=-70 < 20；净需求量=20- (-70) =90；计划产出量=1 x

160=160；预计可用库存量=20+160-90=90



预计可用库存量初值=90-80=10 < 20 ;净需求量=20-10=10；计划产出量=1 x

160=160； PAB=90+ 160-80=170O

其他时段的预计可用库存量初值, 净需求量, 计划产出量和预计可用库存量值依此类推, 这里不予赘述

下面介绍如何计算计划投入量和可供销售量

第五步, 计算各时段的计划投入量

由于提前期是 1 时段, 因此将计划产岀量的所有数据提前 1 时段, 即可以得到相应时段的计划投入量

第六步, 计算各时段的可供销售量

可以通过各个时段的计划产出量, 相应的订单量和提前期等数据计算可供销售量

例如, 在第 6 段, 可供销售量=160-90-50=20o

2.3 物料需求计划

物料需求计划是根据得到的主生产计划和产品结构, 工艺路线和批量政策等特征,

将最终产品分解成具体操作的零部件生产作业计划和原材料, 外购件的采购作业计划的过程

从计划对象来看, 物料需求计划与主生产计划不同

主生产计划的计划对象是独立需求物料, 而物料需求计划的计划对象是相关需求物料

从计划层次来看, 主生产计划是宏观计划与微观计划的分水岭, 而物料需求计划是微观计划的正式开始

物料需求计划是ERP系统的核心, 是ERP系统的先驱, 是ERP系统中连接表态基础数据和动态作业计划的桥梁

2.3.1 物料需求计划的概述

物料需求计划是20 世纪60 年代在美国出现, 并于70 年代发展起来的一种管理技术

和方法, 是根据主生产计划确定的物料采购和生产管理方式

因此, 可以说物料需求计



物料需求计划的定义是: 物料需求计划是一种物料管理和生产方式, 是ERP系统的重要组件, 它是建立在主生产计划的基础上, 根据产品的物料清单, 工艺路线, 批量政策和提前期等技术和管理特征, 生成原材料, 毛坯和外购件的采购作业计划和零部件生产, 装配的生产作业计划, 从而达到有效管理和控制企业物料流动的微观计划

物料需求计划建立在主生产计划的基础上, 但是与主生产计划有本质的不同

主生

产计划回答了生产什么和何时生产的问题, 其计划对象是最终交付用户的产品项目

但是, 如何生产这些产品项目, 如何合理, 均衡地安排组成这些产品项目的零部件的生产,  原材料和外购件的釆购, 如何考虑现有的库存状况并保持合理, 优化的库存, 如何在生产过程中考虑合理有效的生产批量等, 都是物料需求计划需要回答的问题

作为ERP系统的重要组件, 物料需求计划要回答的问题有:

（1）	生产什么？生产多少？何时生产？

（2）	要用到什么？用到多少？何时用到？

（3）	已经有了什么？有多少？何时使用？

（4）	还缺少什么？缺少多少？何时需要？

（5 ）何时安排？

实际上, 问题（1 ）可以由主生产计划来回答

这里生产的目标对象是独立需求物料,  这些内容正是主生产计划的核心内容

因为物料需求计划建立在主生产计划的基础上, 这些内容是物料需求计划运算的起点

问题（2）是问题（1）的自然延续, 是对问题（1 ）的补充回答, 也可以说是对主生产计划内容的进一步细化

这个问题的答案, 就是物料清单

这个问题涉及的目标对象是相关需求物料, 是独立需求物料根据物料清单结构分解得到的物料与对应的物料数量

 这种分解计算过程是通过物料需求计划完成的

问题（1 ）和问题（2 ）的研究内容是确定将要生产或釆购的对象, 问题（3 ）则是针对已经确定的对象回答已经有了什么和有多少的问题

问题（3）由物料库存信息和已下达的采购订单来回答, 这里的目标对象与问题（2）中的目标对象是一致的

实际上, 问题（4）是通过问题（2 ）和问题（3 ）计算得到的

除此之外, 它还需要考虑批量规则, 安全库存量, 废品率等管理因素

在传统的手工管理方式下, 问题（4） 是在真正发生缺料时通过缺料表和缺料计划解决的

在ERP系统中, 问题（4）的解决时间已经提前到制订物料需求计划时

在问题（2）, 问题（3）和问题（4）中, 有关“何时”问题的解决离不开工艺路线和各种提前期数据

虽然根据工艺路线和各种提前期数据可以解决诸如何时用到, 何时使用及何时需要等问题, 但是并不能完全解决物料釆购作业, 生产作业的安排问题, 这是因为合理解决这些作业的安排问题还涉及设备能力, 人员能力, 资金能力和均衡生产等条件

问题（5 ）的答案实际上就是平衡设备能力, 调度生产人员, 合理筹措资金及均衡安排作业等

能力需求计划是解决问题（5 ）的一种有效方法

物料需求计划是ERP系统的核心内容, 它把ERP系统中的许多重要组件组合在一起

物料需求计划把主生产计划作为其基础和输入, 是物料需求计划要达到的最终目标

 物料清单是物料需求计划把最终产品分解成各种物料的工具, 是最终产品与物料编码和物料数量相关联的方法

毫无疑问, 作为一种重要的基础数据, 物料编码是整个ERP系统, 包括主生产计划和物料需求计划组件识别和使用物料的依据

在物料需求计划的计算过程中, 如果需要某种指定编码的物料, 但是这种物料偏偏无法及时满足作业的需求, 能否采用性能相近或更高性能的同类物料代替这种指定编码的物料呢？答案就是企业制定的物料代用政策

工序和工序组成的工艺路线是物料需求计划安排生产作业顺序的基础

工序把将要加工的物料和实施加工的工作中心连接起来

实际上, 工作中心把物料需求计划和能力需求计划两个重要组件关联起来

制造日历有助于物料需求计划明确地安排釆购作业和生产作业的时间

虽然根据主生产计划和物料清单可以得到需要的物料, 但是企业当前已经有多少物料和真正需要多少物料需要借助库存状况来回答

已经发放的加工订单和采购订单有助于更加准确地回答真正需要多少物料

在上述这些组件和数

据的基础上, 物料需求计划经过复杂的运算, 输出可以发放的加工订单和采购订单

物料需求计划的结构示意图如图2-11 所示





232 物料需求计划的工作原理

作为ERP系统的核心组件, 理解物料需求计划的工作原理是非常重要的

为了更好地理解物料需求计划的工作原理, 本小节将从逐层计算原则, 物料需求计划的输入, 处理和输出, 物料需求计划中的基本数量概念, 物料需求计划的运行方式, 以及物料需求计划的开环和闭环等不同的角度对物料需求计划进行剖析, 力求全方位地观察和理解物料需求计划的工作原理和特点

1.逐层计算原则

逐层计算原则是指物料需求计划在计算物料需求量时, 应该按照产品结构层次采用自顶向下逐层计算物料需求量的方式

计算物料需求量是物料需求计划的主要目标之一

 但是, 由于产品结构的复杂性, 物料需求量的计算必须遵循一定的计算原则, 否则可能会产生错误的结果

下面通过一个实例讲解逐层计算原则

根据图2-12 中的自行车物料清单结构图可知, 一辆自行车有一套车轮系统, 一套车轮系统包括一根前轴, 一根前轴又包括两片前轴档

假设希望生产200 辆自行车, 仓库中现有35 套车轮系统, 61 根前轴和128 片前轴档

根据需求量和现有库存量, 如果不考虑产品的层次结构, 那么可以按照下列方式计算自行车的缺件数量

自行车的需求量: 200 辆

车轮系统的需求量: 200-35=165 （套）

前轴的需求量: 200-61=139 （根）

前轴档的需求量: 200 x 2-128=272 （片）

	•

显然, 上面的计算有明显的错误, 因为这些计算没有考虑产品结构的层次关系

每一套车轮都包括一根前轴, 而每一根前轴都包括了两片前轴档, 这些隐含在层次关系中

层次结构中的数据就包含在计算过程中 O 下面按照逐层计算原则计算自行车的缺件数量0

自行车的需求量: 200 辆

车轮系统的需求量: 200-35=165 （套）



前轴档的需求量: 104x2—128=80 （片）□

比较上面两种计算方式可以看出, 在第一种计算方式下, 前轴档的需求量是272 片,

但在第二种计算方式下, 前轴档的需求量减少为80 片

之所以两者相差192 片, 是因为这个192 片数据隐含在产品结构的层次关系中了

由于第二种计算方式考虑了层次关系中的数据, 其结果更加合理

逐层计算原则是物料需求计划工作原理的重要组成部分, 它提示了物料需求计划计算物料需求量的基本过程形式, 是理解物料需求计划工作原理的基础o

2.物料需求计划的输入, 处理和输出

从物料管理和控制方面讲, 物料需求计划是一个复杂的系统, 它有自己的输入, 处

理和输出；从ERP系统角度来看, 物料需求计划是一个子系统或者是一个活动, 但是它仍然有自己特殊的输入, 处理和输出

不管怎么说, 理解物料需求计划的输入, 处理和输出有助于我们深入理解物料需求计划的工作原理

从图2-11 可以看到, 物料需求计划的输入内容是比较多的

但是, 物料需求计划最主要的输入数据是三个, 即主生产计划, 物料清单和库存状况

主生产计划提供了何时

生产什么, 生产多少的数据

主生产计划是物料需求计划运算的驱动力量, 是物料需求计划运算的起点和运算的对象

但是, 如何把主生产计划提供的数据进行深入的分解和汇总, 则离不开物料清单数据的支持

作为对产品结构基础数据的描述, 物料清单是支持物料需求计划分解主生产计划数据的不可或缺的工具

在物料清单的支持下, 物料需求计划把外界对企业的需求主生产计划转变成了企业内部对物料作业的需求, 即对零部件的毛需求

库存状况包括了库存物料的各种状态, 这些状态包括物料编码, 数量, 批量大小和提前期等数据

物料的可用库存量描述了库存数量

可用库存量包括现有库存中可以被使用的已有库存量和已发放且可以得到的已订数量

物料需求计划的处理过程主要包括读取主生产计划数据, 分解物料清单, 计算物料毛需求, 计算物料净需求和下达作业计划

毫无疑问, 读取主生产计划数据是物料需求计划开始运算的起点

主生产计划的对象是最终产品项目, 分解物料清单实际上就是把最终产品项目的数量与生产一个最终产品项目所需要的零件数量相乘, 就可以得到需要什么样的零件和这种零件所需要的数量

这种零件所需要的数量就是所谓的毛需求量

 用毛需求量减去可用库存量就可以得到净需求量

无论是下达采购作业计划（采购订单） 还是生产作业计划（加工订单）, 净需求量都是这些计划的基础数据

在实际中, 既可以把这些净需求量作为计划数据直接下达, 也可以依据批量政策将净需求量进行调整后作为计划数据下达

需要注意的是, 作为计划数据, “期”标准是同样重要的

作为确定计划时间的“期”标准来源于各种提前期数据

物料需求计划的输出主要是指可以用于管理和控制的各种计划和报告

这些报告主要包括零部件的生产作业计划, 原材料外购件的采购作业计划及异常报告等

这些计划是企业物料采购, 生产能力平衡和车间作业管理的输入, 是发放采购订单, 加工订单的依据

可以说物料需求计划的输出是企业物料管理, 车间管理和设备管理等主要管理工作的基础和起点

3.物料需求计划中的基本数量概念

在物料需求计划运算中, 经常用到的基本数量概念包括描述库存信息的数量概念和描述需求信息的数量概念

描述库存信息的数量概念包括现有库存量, 计划接收量, 已分配量, 安全库存量, 可用库存量和预计可用库存量等；描述需求信息的数量概念包括总需求量, 毛需求量, 净需求量, 计划产出量和计划投入量等

毛需求量是物料需求量, 它是基于最终产品项目的需求量, 是按照物料清单进行层层分解计算得到的物料需求量

毛需求量的来源可以有多处, 如既可能来自同一个最终产品项目, 也可能来自不同的最终产品项目

已分配量是当前虽然保存在仓库中, 但是已经分配的物料数量

总需求量等于毛需求量加上已分配量

现有库存量是当前仓库中现有的物料数量

但是, 仓库中某些物料可能已经被分配却没有出库, 因此这部分物料数量是不能用于当前物料需求计划计算的

现有库存量还包括了物料的安全库存量

因此, 只有从现有库存量中减去已分配量和安全库存量, 剩 ,余的物料数量才是仓库中可以参加物料需求计划计算的物料数量

可用库存量是当前仓库中可以参加物料需求计划计算的物料数量, 还应该包括那些

已经发放, 预计在计划期内到达的采购单和加工单上的物料数量

计划接收量是指前期已经下达的, 目前正在执行中的订单量, 是将来要在某个时段的产出数量, 即以前计划的产出量

预计可用库存量等于现有库存量和计划接收量之和

净需求量等于总需求量减去预计可用库存量

其计算公式如下所示:

净需求量=总需求量-预计可用库存量

=毛需求量+已分配量-现有库存量-计划接收量

计划产出量是以净需求量数据为基础, 考虑批量政策, 废品率和均衡生产等因素对净需求量进行调整后的结果

计划投入量是考虑提前期因素之后对计划产出量的时间进行调整后的结果

一般地, 计划投入量的数据等于计划产出量, 但是要按照提前期提前安排投入

4.物料需求计划的运行方式

 	

物料需求计划的运行方式不是一劳永逸的

制订计划环境的任何改变, 都可能影响整个计划的运行

物料需求计划经过运算之后, 得到一个主生产计划, 物料清单, 物料需求及库存状况之间相对平衡的釆购作业计划和生产作业计划

但是, 这种平衡状态可能会由于其中的某个或某些因素的变化而被打破, 如增加了新的订单, 产品结构设计更改, 生产加工废品率增大和库存状况变化等, 原有的采购作业计划和生产作业计划已经不能满足实际作业的需要, 必须重新运算物料需求计划

重新运算物料需求计划的方式被称为物料需求计划的运行方式O

 	

 	般地, 物料需求计划的运行方式有两种类型, 一种是再生式物料需求计划(regenerative MRP)运行方式, 另一种是净改变式物料需求计划(net change MRP)运行方式

再生式物料需求计划运行方式表示每次计算时, 都会覆盖原来的物料需求计划数据, 生成全新的物料需求计划

净改变式物料需求计划运行方式表示只会根据指定条件而变化, 如主生产计划变化, 物料清单变化等, 经过局部运算, 更新原来物料需求计划的部分数据

 再生式物料需求计划运行方式是周期性运算物料需求计划, 通常的运算周期是一周

净改变式物料需求计划运行方式是一种连续性的操作, 当指定数据改变时就需要立刻运行

 	

在再生式物料需求计划运行方式中, 主生产计戈忡列岀的每一个最终产品项目的需求都要被进行分解, 每一个需要的物料清单文件都要被访问, 每一个相关物料的库存状态记录都

 	

要被更新, 每一个物料的毛需求量和净需求量都要被重新计算, 每一项作业计划的日程需要被重新安排, 系统会输出大量的相关报告

这种方法的优点是数据的处理效率高, 因为总是

 	

提供最新的计划数据

但是, 这种方法存在的主要问题是运算量大, 两次运算之间的主生产计划变化, 物料清单变化和作业计划因素变化等不能及时反映到物料需求计划中

 	

在净改变式物料需求计划运行方式中, 采用对需求进行局部分解的作业方式

局部分解大大缩小了需求计划运算的范围, 可以确保提高重排作业计划的频率

这里所谓的局部分解可以理解为, 每次运行物料需求计划时仅仅分解主生产计划中的一部分内容, 如库存事务处理引起的分解只局限在该事务直接涉及的物料项目和这些物料项目下属层次的物料项目

净

 	

改变式物料需求计划运行方式既可以每天运行, 也可以实时运行

净改变式物料需求计划运

行方式的优点在于对状态变化能够及时做出反应

但是, 这种方法也存在诸多缺点, 如系统的自清理能力差, 数据处理的效率相对比较低, 以及对于各种变化过于敏感等

如果采用净改变式物料需求计划运行方式, 令管理人员颇感头疼的一个问题是, 系统要求管理人员不断地修正正在进行的作业, 如对于已经下达的加工订单更改加工零件的结构, 对于已经下达的采购订单更改到货日期等

不过, 如何更好地处理这些令人头疼的问题取决于管理人员的技术和艺术, 即系统提供了应该做出修正的建议, 实际中管理人员应考虑如何采取合理有效的管理措施以实现这些建议

当前, 在大多数ERP系统中主要采用再生式物料需求计划运行方式

实际上, 纯粹

的再生式物料需求计划运行方式与纯粹的净改变式物料需求计划运行方式都是不存在的, 许多ERP系统往往采用这两种类型的混合运行方式

5.物料需求计划的开环与闭环

物料需求计划的发展过程是一个自身不断完善的过程

物料需求计划最初被提出是在

20 世纪60 年代中期, 物料需求计划的结构如图2.11 所示

根据可行的主生产计划, 在物料清单, 库存状态信息和工艺路线等基础数据的支持下, 由计算机编制岀分时间段的物料需求计划, 从而可以下达执行采购作业的采购订单和执行生产作业的加工订单

很显然, 釆用物料需求计划可以快速, 准确地制订釆购作业计划和生产作业计划, 从而可以保证得到准确的物料需求, 为最终实现物料管理的精细化打下物质基础

但是, 这种物料需求计划计算方式有一些前提条件, 如主生产计划存在且可行, 采购作业计划可行且执行过程顺利, 以及生产作业计划可行且生产过程不受其他外界因素的影响

然而, 这种前提往往是不现实的

例如, 釆购作业计划可能因为供货能力或运输能力不足而不能按期或按量执行, 生产作业计划可能会受到加工设备能力不足, 人力资源缺乏和废品率过大的影响而不能按期, 按量完成

怎样解决物料需求计划计算方式存在的这些问题呢？可以基于控制原理采取一些适当的措施, 如在物料需求计划计算过程中考虑企业的生产加工能力问题, 供货企业的供货能力问题, 确保制订的物料需求计划（包括采购作业计划, 生产作业计划）是可行的; 在采购作业计划, 生产作业计划的执行过程中, 通过增加采购管理和车间管理功能, 从而增强计划跟踪和反馈功能, 确保物料需求计划可以得到及时更新

采取这些措施之后得到的物料需求计划被称为闭环物料需求计划, 相对应地, 把以前的物料需求计划计算方式称为开环物料需求计划

作为一个权威机构, 美国生产与库存控制协会发表的闭环物料需求计划的结构原理如图2-13 所示

在图2-13 中, 主生产计划来自企业的生产规划, 主生产计划是否可行在经过被称为粗能力需求计划的产能负荷分析之后, 如果可行的主生产计划制订的物料需求计划是在物料清单和库存状况数据的支持下完成的, 那么可以进一步分解为分时段的需求

物料需求计划的分时段需求可以把未来物料短缺问题的解决方案提前到当前的作为优先计划的物料需求计划中

但是, 如果这个物料需求计划超越了企业现有的生产加工能力和采购运输能力, 它也就失去了指导车间作业的权威意义

但是, 如果物料需求计划经过能力需求计划平衡被认为不可行, 则可以及时调整主生产计划, 甚至可以调整企业的生产规划

因此, 增加能力需求计划以便检验物料需求计划在当前生产环境中是否

可行；增加作业计划管理和控制功能的目的是便于将生产环境变化和作业计划与实际作业的差异及时地反映到物料需求计划中, 以实现对今后物料需求计划的执行进行适当的平衡和调整；增加执行能力计划功能可以根据作业需要对生产能力进行进一步调整, 以便能力需求计划在变化的生产环境中总可以顺利地保证物料需求计划的可行性





虽然闭环物料需求计划没有解决资金资源, 人力资源等生产环境中的约束问题, 但是很好地解决了物料管理和控制问题, 因此闭环物料需求计划的产生和被广泛应用是生产计划管理理论发展的一个里程碑

我们可以采取低层码来解决物料需求计划计算顺序问题

低层码是指由于同一种物料项目位于同一个物料清单的不同阶层中或位于不同的物料清单的不同层次中而有多个阶层码时, 取最低层码作为计算该项物料需求量的一种方法

这种方法的目的是确保时间上最先需求的物料在计划上最先得到库存量, 避免最后需求的物料提前下达而在计划上占用有限的库存量

低层码的引入是对逐层计算原则的一个补充, 低层码指定了对同一物料位于不同物料清单阶层时的处理方式

下面通过一个例子讲述低层码的作用

如图2-14 所示, 在一个自行车产品的物料清单结构示意图中, 最终产品项目是ZXC,其由 2 零件 A 和 1 组件 B 组成, 1 个组件 B 由 1 个零件 A 和 2 零件 C 组成

在这里, 零件 A 既出现在阶层 1 出现在阶层2,因此零件 A 的低层码是20 最终产品项目ZXC的物料需求计划计算过程如图2-15 所示

在该过程

中, 首先根据ZXC的主生产计划得到零件 A 和组件 B 的总需求量

遇到零件 A 时, 发现其当前的阶层码是1,与其低层码不同

因此, 对零件 A 只是保存其通过物料清单分解得到的总需求量, 暂不进行预计库存量, 净需求量和计划产出量等的计算

组件 B 的当前阶层与其低层码一致, 因此计算该物料的所有物料需求计划数量

之后, 进行分解又得到零件A

 现在, 零件 A 的当前阶层等于其低层码, 因此可以对零件 A 进行物料需求计划计算, 此时才使用与零件 A 有关的计划接收量, 当前预计可用库存量等数据

零件 A 的总需求量包括不同阶层的所有需求量之和, 当然, 如何进行汇总, 还需要考虑有关的需求日期



图2-15 ZXC的物料需求计划计算过程

对于位于不同物料清单中不同阶层的同一种物料来说, 其计算过程与此类似

因此可以说, 同一种物料在ERP系统中的计算过程是按照低层码顺序进行的

233 物料需求计划的计算过程

根据物料需求计划基本概念和工作原理, 本小节将用具体示例详细演示物料需求计划的计算过程

物料需求计划的计算过程与主生产计划的计算过程非常类似, 但又有所不同, 如在物料需求计划计算过程中, 没有预测量, 订单量和可供销售量等数据, 因物料需求计划的计算量都是相关需求, 不是可以销售的最终产品项目；在计算物料需求计划时需要考虑物料清单的分解和低层码等影响因素；主生产计划只涉及最终产品项目, 但是物料需求计划涉及组成最终产品项目的所有层次的物料, 物料需求计划的计算量和复杂程度远远大于主生产计划的计算量和复杂程度

物料需求计划的计算过程示意图如图2-16 所示



图2-16 物料需求计划的计算过程示意图

首先, 基于物料清单计算各个物料的低层码, 然后按照逐层计算原则和低层码计算

每个物料的毛需求量

其次, 考虑物料的库存状况, 计算计划接收量和当期预计可用库存量

再次, 分时段计算

在分时段计算过程中, 先计算本时段预计可用库存量初值, 再计算本时段净需求量, 然后根据净需求量的值对预计可用库存量初值进行调整

需要注意的是, 当需求量非 0, 需要基于批量政策计算本时段的计划产出量

最后, 当分时段计算结束之后, 基于提前期数据, 在计划产出量的基础上计算计划投入量

下面通过一个具体示例讲述物料需求计划的计算过程

图2.17 是两个产品ZXC和

SLC的物料清单示意图

这两个产品分别是自行车ZXC和三轮车SLCO已知条件是ZXC 和SLC的主生产计划, 以及所有物料的当前预计可用库存量, 安全库存量, 提前期, 批量和已分配量等

现在需要计算零件 A 和零件 C 的物料需求计划





ZXC和SLC的主生产计划如表2-7 和表2-8 所示

表2-7 和表2-8 中分别描述了最终产品项目ZXC和SLC的物料名称,

时段	当期	1	2	3	4	5	6	7	8	9	10

计划产出量			50	50	60	60	60	60	90	90	90

计划投入量		50	50	60	60	60	60	90	90	90	

物料名称: ZXC

表2・7

物料编码: ZXC

ZXC的主生产计划

提前期: 1

表2-8 SLC的主生产计划

时段	当期	1	2	3	4	5	6	,7	8	9	10

计划产出量			80	80	80	80	80	80	120	120	120

计划投入量		80	80	80	80	80	80	120	120	120	

物料名称: SLC

物料编码: SLC

提前期: 1

首先计算零件 A 的物料需求计划

因为零件 A 只出现在ZXC的物料清单中, 并且

倍.

只出现一次, 所以其阶层码与其低层码都是1

零件 A 的毛需求量等于ZXC的计划投入量

假设在时段 1 计划接收量为80,当期预计可用库存量为20,安全库存量为20, 批量是100o

在时段1,预计可用库存量=20+80-50=50

在时段2,预计可用库存量初值=50-50=0v20,净需求量=20-0=20,根据批量政策,

满足净需求量要求的计划产岀量为100,于是预计可用库存量=50+100-50=100

在时段3,预计可用库存量初值=100-60=4020,于是净需求量=0



ERP原理及应用





表2.9 零件 A 的物料需求计划

物料名称: 前轴档	物料编码: A	提前期: 1	低层码: 1

当期预计可用库存量: 20	安全库存量: 20	批量: 100	已分配量: 0

时段	当期	1	2	3	4	5	6	7	8	9	10

毛需求量		50	50	60	60	60	60	90	90	90	

计划接收量		80									

预计可用库存量	20	50	100	40	80	20	60	70	80	90	90

净需求量			20		40		60	50	40	30	

计划产出量			100		100		100	100	100	100	

计划投入量		100		100		100	100	100	100		

现在计算零件 c 的物料需求计划

与零件 A 不同的是, 零件 C 位于ZXC和SLC两个物料清单中, 且这两个零件的阶层也不相同, 其低层码为2

设零件 C 的提前期为1, 当期预计可用库存量为25,安全库存量为15,批量为50

计算思路是: 首先, 计算ZXC对物料 B 的毛需求量, 计算物料 B 的计划投入量,  并根据物料 B 的计划投入量得到物料 C 的毛需求量

其次, 计算SLC对物料 C 的毛需求量

再次, 合并两个产品对物料 C 的毛需求量

最后, 依据合并后的对物料 C 的毛需求量推算出其计划投入量

第一步, 计算ZXC对物料 B 的毛需求量, 计算过程和结果如表2-10 所示

表2-10 ZXC对物料 B 的毛需求量

物料	时段	当期	1	2	3	4	5	6	7	8	9	10

ZXC	计划产出量			50	50	60	60	60	60	90	90	90

	计划投入量		50	50	60	60	60	60	90	90	90	

B	毛需求量		50	50	60	60	60	60	90	90	90	



第二步, 计算物料 B 的计划投入量, 实际上就是计算该物料的物料需求计划, 计算过程如表2-11 所示

这里假设当期预计可用库存量为35,安全库存量为20,批量为 50,提前期为lo

时段	当期	1	2	3	4 ,	5	6	7	8	9	10

毛需求量		50 1	50	60	60	60	60	90	90	90	

计划接受量		100									

预计可用库存量	35	85	35	25	65	55	45	55	65	25 •	25

净需求量				45	55	15	25	65	55	45	

计划产出量				50	100	50	50	100	100	50	

计划投入量			50	100	50	50	100	100	50		

物料名称: 前轴档当期预计可用库存量: 35

表2.11 物料 B 的物料需求计划

物料编码: B	提前期: 1	低层码: 1

安全库存量: 20	批量: 50	已分配量: 0

第三步, 计算ZXC对物料 C 的毛需求量

根据物料 B 的计划投入量, 可以直接推算出物料 C 的毛需求量, 推算过程如表2.12 所示

需要注意的是, 直接根据物料 B 的

毛需求量推算出物料 C 的毛需求量和根据物料 B 的计划投入量计算出物料 C 的毛需求

量, 这两个毛需求量是不同的, 其冋的差别往往很大

表2.12 ZXC对物料 C 的毛需求量

物料	时段	当期	1	2	3	4	5	6	7	8	9	10

B	计划投入量			50	100	50	50	100	100	50		

C	毛需求量			50	100	50	50	100	100	50		

第四步, 计算SLC对物料 C 的毛需求量, 计算过程如表2-13 所示

例如, 在时段

1,根据SLC的计划投入量直接推算出物料 C 的毛需求量为80o

表2.13 SLC对物料 C 的毛需求量

物料	时段	当期	1	2	3	4	5	6	7	8	9	10

SLC	计划产出量			80	80	80	80	80	80	120	120	120

	计划投入量		80	80	80	80	80	80	120	120	120	

C	毛需求量		80	80	80 ；	80	80	80	120	120	120	

第五步, 合并物料 C 的毛需求量

根据表2-10.表2-12 和表2.13 的数据合并物料

C的毛需求量, 得到物料 C 的总毛需求量, 合并过程和结果如表2-14 所示（有关物料C

的数据已经添加了灰色背景）

例如, 在时段3, ZXC对物料 C 的毛需求量是100, SLC 对物料 C 的毛需求量是80,两者合并后在时段 3 物料 C 的总毛需求量是180o可以根

据物料 C 的总毛需求量计算物料 C 的物料需求计划

需要说明的是, 在不会引起混淆时,

常常把物料 C 的总毛需求量简称为毛需求量

表2-14 ZXC和SLC对物料 C 的总毛需求量

物料	时段	当期	1	2	3	4	5	6	7	8	9	10

ZXC	计划产出量			50	50	60	60	60	60	90	90	90

	计划投入量		50	50	60	60	60	60	90	90	90	

B	毛需求量		50	50	60	60	60	60	90	90	90	

	计划投入量			50	100	50	50	100	100	50		

C	毛需求量			50	100	50	50	100	100	50		

SLC	计划产出量			80	80	80	80	80	80	120	120	120

	计划投入量		80	80	80	80	80	80	120	120	120	

C	毛需求量		80	80	80	80	80	80	120	120	120	

C	总毛需求量		80	130	180	130	130	180	220	170	120	

第六步, 计算物料 c 的物料需求计划

计算过程和结果如表2.15 所示

这里假设当期预计可用库存量为70,安全库存量为60,批量为100,提前期1

当计算出计划产出

量之后, 根据提前期为 1 排计划, 推算出对应的计划投入量

时段	当期	1	2	3	4	5	6	7	8	9	10

毛需求量		80	130	180	130	130	180	220	170	120	

计划接收量		120									

预计可用库存量	70	110	80	100	70	140	60	140	70	150	150

净需求量			80	140	90	120	100	220	90	110	

计划产出量			100	200	100	200	100	300	100	200	

计划投入量		100	200	100	200	100	300	100	200		

物料名称: 螺母

当期预计可用库存量: 70

表2.15 物料 C 的物料需求计划

物料编码: C	提前期: 1	低层码: 2

安全库存量: 60	批量: 100	已分配量: 0

2.4 能力需求计划

能力需求计划的目的是检验物料需求计划是否可行并且对生产作业过程中的能力和负荷进行平衡

从内容上来看, 能力需求计划与物料需求计划是不同的

物料需求计划的内容是有关企业直接的作业对象, 管理对象的描述, 以及从事这些活动的安排和指导, 是为了满足用户需求, 完成已签约订单的直接的工作计划, 而能力需求计划的内容是辅助和检验物料需求计划内容是否可行的辅助工作计划和生产能力需求计划



2-4.1 能力需求计划的概述

1.能力需求计划的基本概念

能力需求计划是一种由物料需求计划输出的对物料的分时段需求计划转变成对企业各个工作中心的分时段需求计划的管理工具, 是一种协调能力需求与可用能力之间平衡管理的处理过程, 是一种协调物料需求计划的计划内容和确保物料需求计划在现有生产环境中可行, 有效的计划管理方法

从工作内容上来看, 物料需求计划的计划内容是物料, 具体内容包括需要的物料编码, 物料数量和需用时间等, 而能力需求计划的计划内容是能力, 具体内容包括工作中心加工能力, 员工工作时间, 设备加工效率, 员工出勤率和劳动生产率等

从工作内容角度来看, 能力需求计划起到一个计划转换器的作用, 把物料需求计划转换成了能力需求计划, 实际上, 它又起到一个工作延伸扩散器的作用, 把有关物料计划管理和控制工作向设备计划管理和控制工作, 人力资源计划管理和控制工作方面延伸和扩散, 从而使得整个ERP系统有可能将物料管理, 设备管理和人力资源管理等多种职能工作作为一个整体的系统对待

从处理过程来看, 能力需求计划不仅仅把对物料的需求计划转变成对工作中心的能力需求计划, 还要协调和处理有关这些能力的能力需求与可用能力之间的矛盾

能力需求来自物料需求计划, 可用能力来自现有的生产作业环境

从宏观角度来看, 如果能力需求小于可用能力, 那么除了引起可用能力的闲置和浪费之外, 一般不会对物料需求计划的正常运行带来什么负面影响和障碍

但是, 经常遇到的情况是, 能力需求大于可用能力, 该怎么办呢？有三种不同的且各有优劣的解决方案: 一是扩大企业现有的可用能力；二是通过减少物料需求计划以降低能力需求；三是通过“移峰填谷”, 加班加点和外部协作等临时性的管理调度手段来解决能力需求和可用能力之间的矛盾

第一种方案是最彻底的解决方案, 但是这种方案是一种企业发展壮大的里程碑式的结果, 这种方案很难被用于需要随时解决的临时性问题

有人把这种解决方案称为决策性的解决方案

第二种方案是比较保守的解决方案

这种方案的最终实质就是通过拒绝过多的, 自身无法承担的订单来实现企业内部的生产平衡

这种方案的优点在于经营稳健, 缺点在于可能错失发展壮大的良机

第三种方案体现了管理技术和管理艺术有效结合的效果

在这种方案中, 需要采用最合适的管理手段, 调度措施来尝试协调解决当前面临的问题

实际上, 能力需求计划往往采用这种方案来协调生产管理中的计划和实际中的矛盾

从管理手段来看, 能力需求计划作为一种约束条件的测试工具, 用于检验和确保物料需求计划的可行性, 并且对生产作业过程中的能力和负荷进行平衡

前面已经提到,  计算物料需求计划的三个最基础的数据是主生产计划, 物料清单和库存状况, 但是这种计算过程并没有完全回答诸如企业是否有能力完成这种计算结果之类的问题

虽然主生产计划已经得到粗能力需求计划的验证, 在某种程度上来说物料需求计划被确保是可行

的, 但是实际上粗能力需求计划并不能准确地回答物料需求计划是否可行的问题

从管理的完整性角度来看, 能力需求计划全面解决了物料需求计划是否可行的和有效的问题

 即使主生产计划没有经过粗能力需求计划的验证, 能力需求计划也不会使不可行的物料需求计划进入实施环节

当然, 通过采用粗能力需求计划验证主生产计划, 其好处在于物料需求计划的计算和能力需求计戈 0 物料需求计划的验证都有了更高的工作效率

能力需求计划的转换器, 协调器约束机制作用示意图如图2-18 所示

来自物料需求计划的生产作业表示计划负荷, 工艺路线可以提供单位负荷耗用能力标准, 这两个数据可以形成对工作中心的能力需求

工作中心提供了企业当前环境的可用能力

能力需求和可用能力经过能力需求计划的处理变成了可行的生产作业计划和已平衡的能力需求计划报表



图2-18 能力需求计划的转换器, 协调器约束机制作用示意图

通过前面的分析可知, 能力需求计划可以回答下面几个问题

(1)生产什么？生产多少？何时生产？(由生产作业计划回答, 并且得到计划负荷

 这些计划负荷也可以是分时段的)

(2 )使用什么工艺路线？工艺路线中包括哪些工作中心？(前面这两个问题可以得到单位负荷耗用能力标准, 如使用某个数控加工机床的标准工时定额, 再加上计划负荷, 就可以得到物料需求计划对能力的需求量)

(3 )工作中心的可用能力是多少？(这是重要的基础数据)

(4 )分时段的能力需求状况如何？(分时段的计划负荷加上单位负荷耗用能力标准可以得到分时段的能力需求状况)

2.能力需求计划和粗能力需求计划

在主生产计划中我们提到了用于校验主生产计划是否可行的粗能力需求计划, 在物料需求计划中我们又反复强调需要能力需求计划校验其是否可行, 那么这两种校验计划是否可行的方法之间有什么样的关系呢？实际上, 这两种方法是密切关联的

从计划层次上来看, 粗能力需求计划与主生产计划位于相同的层次, 能力需求计划与物料需求计划位于相同的层次, 因此粗能力需求计划位于需求计划的高层, 能力需求计划位于需求计划的较低层次

从内容上来看, 粗能力需求计划和能力需求计划两者都属于能力需求计划, 都用于

校验编制的计划是否可行

不同的是, 粗能力需求计划用于校验主生产计划（独立需求件）, 而能力需求计划的校验对象是物料需求计划（相关需求件）

因为物料需求计划是主生产计划的进一步细化, 所以能力需求计划也是粗能力需求计划的进一步细化

从编制方式来看, 粗能力需求计划与能力需求计划有很大的差别

例如, 粗能力需求计划仅仅考虑关键工作中心的能力需求, 能力需求计划则考虑整个工作中心的能力需求；粗能力需求计划的计算过程主要依据资源清单, 而能力需求计划的计算过程主要依据工艺路线

能力需求计划与粗能力需求计划之间的区别如表2-16 所示

表2-16 能力需求计划与粗能力需求计划之间的区别

比较项	粗能力需求计划	能力需求计划

计划阶段	主生产计划	物料需求计划与生产作业计划

主要作用	校验主生产计划是否可行	校验生产作业计划是否可行

能力对象	关键匚作中心	全部工作中心

计算过程依据	资源清单	工艺路线

负荷对象	独立需求件	相关需求件

库存状况	不考虑	考虑

订单类型	计划和确定订单	计划和确定订单, 已下达订单

工作日历	工厂日历或工作中心日历	工作中心日历

提前期	提前期偏置	按照工序的开工时间和完工时间

3.能力需求计划的编制方式

从能力需求计划的编制方式来看, 可以把能力需求计划分为两种类型, 即无限能力计划和有限能力计划

无限能力计划和有限能力计划在是否考虑能力需求计划时是一样的, 两者的主要差别在于处理超负荷时釆取的方式不同

无限能力计划是不考虑能力限制的能力需求计划方式

当工作中心的负荷工时超过能力工时时, 该工作中心处于超负荷状态

在无限能力计划中, 由于不考虑能力限制,  工作中心的负荷是所有消耗该工作中心的负荷相加, 这是一种更加自然的处理能力需求的方式, 超负荷状态是一种不可避免的现象

当工作中心处于超负荷状态时, 可以采取两类解决措施: 第一类是增加能力工时措施, 如可以采购新的加工设备, 招聘新的员工等；第二类措施是采取调度手段, 如延长工作中心的工作时间, 采用替代工作中心, 将超负荷转移到其他工作中心, 变加工为釆购及采用外协加工等

实际上, 还有一种更为极端的管理措施, 即延长订单的交货期或者取消订单

但是, 这种极端管理措施是与企业经营宗旨相违背的, 只能是特殊情况下的解决方案

当前, 市场上的许多ERP系统都采用无限能力计划的能力需求计划编制方式

有限能力计划是考虑能力限制的能力需求计划编制方式

由于考虑了能力限制, 某个工作中心的负荷工时总是不能超过该工作中心能力工时, 在这种方式下不会出现工作中心超负荷现象

按照处理超负荷的方式, 有限能力计划又可分为优先级计划和有限顺

ERP原理及应用

排计划

这里主要介绍优先级计划

优先级较低的计划负荷被推迟

当工作中心满负荷时, 优先级较高的计划负荷先被执行

从理论上来看, 当多个计划负荷向工作中心分配时, 这些计划负荷总得有一个处理顺序, 无序的处理方式对于生产管理来说是一种不负责任的粗放管理方式, 因此优先级计划实际上是一种理性管理方式的表现

从实践上来看, 优先级计划反映了市场和用户的需求状况, 也因此具有更大的应用价值

2.4.2 能力需求计划的输入数据

在能力需求计划的计算过程中, 主要用到四个方面的数据, 即加工订单数据, 工艺路线数据, 工作中心数据和工作中心日历数据

加工订单是生产作业计划的一种表现形式

按照指导生产加工有效性状态, 加工订单可以分为三种类型, 即计划订单, 确认订单和已下达订单

计划订单是根据物料需求计划直接计算得到的加工订单

但是, 实际上物料的需求和能力的可用性可能会与计算得到的数据有差异, 因此计划订单必须经过生产计划管理人员修正之后才能使用

计划订单经过修正并与实际情况符合后, 由生产计划管理人员将其状态修改为确认的订单

 确认的订单是否能成为指导实际加工作业的任务, 还需要被下达

已下达订单状态是生产作业计划的真正实施状态, 已下达订单也被称为加工订单

加工订单描述了工作中心负荷的来源

工艺路线数据是一种重要的基础数据, 它描述了零件, 组件及最终产品等物料加工和装配所需要的工序步骤和每一个步骤所需要的工作中心, 加工工具及加工定额工时（准备时间和加工时间等）,还指定了某些特殊工序步骤的可替换工序

工艺路线是一种标准, 它可以把来自加工订单的负荷转变成对加工中心的能力需求

毫无疑问, 工作中心数据是能力需求计划中不可或缺的最重要的基础数据之一

无论是来自加工订单和工艺路线的能力需求, 还是可用的生产加工能力, 其载体就是工作中心

工作中心还起到一种把作业工作与组织结构, 人力资源连接起来的桥梁作用

作为能力需求计划的核心数据和能力单元, 工作中心的主要数据包括每天班次, 每班工作小时数, 每班人数, 每班设备数, 加工效率和设备利用率等

实际上, 当前许多ERP系统在工作中心的描述上还有进一步细化的空冋

例如, 有关以加工人员为主要能力对象的描述可以精细到对单个人员能力的描述上, 增加诸如职业技能等级（初级工, 中级工,  高级工, 技师和高级技师等）信息等的描述

作为一种计划数据, 日期数据是不可或缺的

为了快速, 准确且方便地确定计划日期, 很多情况下日期数据采取制造日历, 工厂日历和工作中心日历等数据

日历上的主要数据是日历编码和对应日期

不同类型日历的差别主要在于其适用范围和描述的精细程度

制造日历往往用于整个企业, 是最基本的日历；工厂日历增加了不同生产加工车间实际作业的工作时间和班次等特点；工作中心日历真正体现了精细化管理的思想, 它可以根据不同工作中心的特点来安排更加切合实际的工作日历

企业可以根据自己的实

际生产经营和管理情况, 确定是采用一套日历还是采用多套日历

243 能力需求计划的处理过程

能力需求计划的处理过程主要包括计算工作中心可用能力, 计算工作中心上的工序负荷及计算工作中心的分时段能力需求等关键环节

1.能力需求计划处理过程中的关键环节

下面分别讲述如何计算工作中心可用能力, 计算工作中心上的工序负荷及计算工作中心的分时段能力需求等能力需求计划处理过程中的关键环节

1）计算工作中心的可用能力

在描述工作中心的可用能力时, 需要确定工作中心的能力单位, 能力类型和额定能力

额定能力应该经常随着实际能力的变化进行调整

不同类型的企业采用不同的工作中心能力单位

在离散型企业中, 如机械, 电子产品等企业, 经常采用加工单件物料所需加工时间（小时/件）或单位时间的产量（件/小时） 等描述工作中心的可用能力

在流程型企业中, 如化工, 纺织和造纸等企业, 经常采用单位时间产量（吨/日, 千克/时, 米/日）等描述工作中心的可用能力

经常用到两种类型的能力描述, 一种是按照设备工时描述能力, 另一种是按照人员工时描述能力

具体采用哪一种能力类型, 往往需要考虑企业的产品特点, 管理习惯和成本核算方式等多个因素

额定能力是指在正常情况下工作中心的可用能力

工作中心的额定能力也被称为标准能力

额定能力往往小于工作中心的最大能力, 因为它考虑了工作中心的利用率和效率等影响因素

工作中心利用率是从计划和实际投入相比较的角度来看工作中心的利用状况, 效率是从实际投入和实际产出相比较来看工作中心的工作效果

某个工作中心额定能力（小时/日）计算公式如下所示:

额定能力=单个设备每日每班可用工时数 X 可用设备数 X 每日班数 X 利用率 X 效率

=单个设备每日可用工时数 X 可用设备数 X 利用率 X 效率

（2-14）

额定能力=每人每日每班可用工时数 x 每班人数 x 每日班数 x 利用率 x 效率

=每人每日可用工时数 x 有效人数 x 利用率 x 效率

（2-15）

例如, 某个工作中心有 2 同样型号和规格的加工设备, 有 2 加工班组, 每班2 人, 每班工作时间是 8 时

经过统计, 设备的利用率是95%,效率是90%,现在采用设备工时描述该工作中心的可用能力, 则该工作中心的可用能力是: 额定能力=8 x 2 x 2 x 95% x 90%=2736 （小时）

实际能力是指某个工作中心的生产加工能力

实际能力是额定能力的基础, 并且通

过额定能力反映出来

额定能力应该经常调整以尽可能准确地反映实际能力, 两者的误差应该尽可能小

例如, 在上面的示例中, 最后测得的实际能力是28.12 小时, 大于额定能力, 即表示额定能力的利用率或效率估计偏低, 应当按照实际能力的大小适当调整额定能力的利用率或效率

2）	计算工作中心上的工序负荷

计算工作中心上的工序负荷是指逐个计算工序与某个工作中心相关联的生产负荷

 生产负荷来自两个数据, 即加工的物料数量和加工单个物料需要的额定工时

在能力需求计划的计算过程中, 加工的物料数量来自物料的计划投入量, 加工单个物料需要的额定工时来自工艺路线

工作中心的工序负荷的计算公式如下所示:

工序负荷=准备时间+加工物料数量 x 加工时间	（2-16 ）

其中, 准备时间是每一个加工物料批次需要的开机时间, 以及安装刀具, 夹具和设备调试等准备性操作耗费的时间；加工时间是加工单个物料耗费的时间

例如, 工序20 对应的工作中心是WC15,将要加工一批物料, 这批物料的数量是 120 件, 准备时间是15 分钟（0.25 小时）, 加工一个物料耗费的时间（WC15 上的工序 20 的工序负荷）是 3 钟（0.05 小时）,工序20 在WC15 上的工序负荷是: 工序负荷= 0.25+120 x 0.05=6.25 （小时）□

注意, 这里需要把准备时间和加工时间统一换算为小时

3）	计算工作中心的分时段能力需求

就像分时段的物料需求计划一样, 工作中心的能力需求也应该是分时段的

为了计算工作中心的分时段能力需求, 需要计算两方面的数据: 第一, 计算每一个工序在每一个工作中心上的开始时间和结束时间；第二, 以工作中心为基础, 按照时段汇总所有工序的能力需求

前面讲过, 工序提前期又称工时, 每一个作业的工时都由多个不同的时间组成

这些时间包括排队时间, 准备时间, 加工时间, 等待时间和移动时间等, 单位通常是秒, 分和时等

排队时间是指在工作中心安排作业前耗费的时间；准备时间是指在加工前需要做的准备工作, 如开机, 检查和调整机器, 安装车卸工装夹具及加油等, 这是每一批零部件的作业都需要消耗的时间；加工时间是指每一个零部件加工, 装配的实际作业时间；等待时间是指物料在某个工作中心加工完成之后不能立即转移到下一个工序或工作中心, 需要等待一段时间才能转移到下一道工序的时间消耗；移动时间又称搬运时间或运输时间, 即从当前工序转移到下一道工序花费的时间

这些时间之间的关系如图2-19 所示





工序提前期

从图2-19 可以看出, 可以把工序提前期分为两大部分, 工序未实际占用工作中心时间和工序实际占用工作中心时间

工序未实际占用工作中心时间包括等待时间, 移动时间和排队时间, 工序实际占用工作中心时间包括准备时间和加工时间

图2-19 只是工序提前期概念示意图

实际生产加工作业中, 为了提高作业效率, 缩短工序提前期, 经常采用交叉作业的方式

某个工序中的物料并不是被全部加工完后才移动到下一道工序, 而是完成一部分之后, 完成的部分物料就被移动到下一道工序

交叉程度可以根据物料特点, 工作中心位置和距离, 管理手段及员工素质等确定

现在许多ERP系统产品已经具备了处理交叉作业的能力

2.能力需求计划的编制过程流程图

能力需求计划的编制过程流程如图2-20 所示

第一, 读入基础数据, 这些基础数据包括加工订单数据, 工艺路线数据, 工作中心数据和工作中心日历数据等

第二, 计算工作中心可用能力, 并且根据历史实际能力数据对计算的结果进行调整

第三, 计算工作中心上的工序负荷或能力需求

第四, 逐个计算工序的开工时间和完工时间

第五,  按照工序的开工时间和完工时间确定其加工的作业时段, 并且按照时段逐个汇总工作中心各个工序的能力需求

第六, 按照指定的格式输岀有关能力需求计划报表和报告等





3.能力需求计划编制示例

本部分通过一个具体的示例, 详细讲述如何编制能力需求计划

假设自行车ZXCA-F2 的物料清单结构图如图2-21 所示

每个ZXCA-F2 由 2 物料 A 和 1 物料 B 组成, 每个物料 B 由 1 物料 C 和 2 物料 D 组成

自行车ZXCA-F2 的主生产计划如表2-17 所示

自行车ZXCA-F2 的装配提前期是 1 段, 计划产岀量和计划投入量如表2-18 所示



图2-21 自行车ZXCA-F2 的物料清单结构图

表2・17 ZXCA F2 的主生产计划

时段	当期	1	2	3	4	5	6	7	8	9	10

计划产出量			90	90	90	120	120	120	120	150	150

计划投入量		90	90	90	120	120	120	120	150	150	

表2.18 ZXCA-F2 的物料需求计划

物料	时段	当期	1	2	3	4	5	6	7	8	9	10

ZXCA-F2	计划产出量			90	90	90	120	120	120	120	150	150

	计划投入量		90	90	90	120	120	120	120	150	150	

A	毛需求量		180	180	180	240	240	240	240	300	300	

	计划接收量		150									

	预计可用库存量	60	30	150	120	30	90	150	60	60	60	60

	净需求量			180	60	150	240	180	120	270	270	

	计划产出量			300	150	150	300	300	150	300	300	

	计划投入量		300	150	150	300	300	150	300	300		

B	毛需求量		90	90	90	120	120	120	120	150	150	

	计划接收量		100									

	预计可用库存量	50	60	70	80	60	40	120	100	50	100	100

	净需求量			55	45	65	85	105	25	75	125	

	计划产出量			100	100	100	100	200	100	100	200	

	计划投入量		100	100	100	100	200	100	100	200		

C	毛需求量		100	100	100	100	200	100	100	200		

	计划接收量		120									

	预计可用库存量	80	100	200	100	200	200	100	200	200	200	200

	净需求量			80		80	80		80	80		

	计划产出量			200		200	200		200	200		

	计划投入量		200		200	200		200	200			

D	毛需求量		200	200	200	200	400	200	200	400		

	计划接收量		300									

	预计可用库存量	150	250	350	150	250	150	250	350	250	250	250

	净需求量			70		170	270	170	70	170		

	计划产出量			300		300	300	300	300	300		

	计划投入量		300		300	300	300	300	300			

根据表2.17 中的主生产计划, 对ZXCA-F2 进行分解, 计算其他物料的物料需求计划

计算过程和计算结果如表2-18 所示

其中, 物料 A 的有关属性是, 计划接收量是

150,预计可用库存量初值是60,订货批量是150,安全库存量是30,提前期是 1 段

 物料 A 的毛需求量等于ZXCA-F2 物料计划投入量的 2, 物料 B 的毛需求量则等于 ZXCA-F2 物料的计划投入量

物料 B 的有关属性是, 计划接收量是100,预计可用库存

量初值是50,安全库存量是25,订货批量是100,提前期是 1 段

物料 C 的毛需求量等于物料 B 的计划投入量

物料 C 的有关属性描述如下, 计划接收量是200,预计可用库存量初值是80,安全库存量是80,订货批量是200,提前期是 1 段

物料 D 的毛需求量等于物料 B 的计划投入量的 2,计划接收量是300,预计可用库存量的初值是150, 订货批量是300,安全库存量是120,提前期是 1 段

假设ZXCA-F2 的加工, 装配共涉及 5 工作中心, 每个工作中心每天工作 8 时, 每个工作中心都有 1 操作人员

每个工作中心的利用率, 效率都不完全一样, 具体参数见表2.19 所示

WC02 的可用能力的计算方式为: 8x 1 x0.98 x0.99=7.76（额定小时/

天）

其他工作中心的计算过程与此类似

表2-19 工作中心和工作中心的可用能力

工作中心编码	每天工作时间/小时	利用率	效率	可用能力/ （额定小时/天）

WC02	8	98%	99%	7.76

WC07	8	98%	99%	7.76

WC15	8	95%	98%	7.45

WC23	8	95%	95%	7.22

WC39	8	95%	90%	6.84

各个物料的工艺路线和额定工时如表2-20 所示

工序编码一般釆用5, 10 和15 的样式

从表2-20 中可以看出, 不同物料的不同工序有可能采用同样的工作中心, 如物料 A的工序 5 物料 C 的工序 5 用了 WC07,这是符合实际情况的

表2-20 ZXCA-F2 的工艺路线和额定工时

物料编码	工序编码	工作中心编码	单件加工时间/小时	准备时间/小时

ZXCA-F2	5	WC02	0.03	0.52

A	!	5	WC07	0.01	0.35

	10	WC15	0.04	0.35

B	5	WC02	0.02	0.65

C	5	WC07	0.03	0.65

	10	WC23	0.03	0.65

D	5	WC39	0.05	0.55

根据表2-20 中的额定工时数据, 我们可以计算岀每一个工作中心上的工序负荷, 计

算公式如下所示:

工作中心上的工序负荷=加工件数 X 单件加工时间+准备时间	（2.17 ）

有关工作中心的工序负荷的计算过程和计算结果如表2.21 所示

例如, 在工作中心

WC07 上, 物料 A 的工序 5 物料 C 的工序 5 在上面加工

物料 A 的计划投入量的订

单数量是150 和300,物料 C 的计划投入量的订单数量是200o物料 A 的工序 5150 订单数量的工序负荷是: 150x0.01+0.35=l.85 （小时）

工序负荷也称能力负荷

表2-21 工作中心的工序负荷计算结果

物料编码	工序编码	工作中心编码	订单数量	能力负荷/小时

ZXCA-F2	5	WC02	90	90 x 0.03+0.52=3.22

			120	120x0.03+0.52=4.12

			150	i	150x0.03+0.52=5.02

A	5	WC07	150	150x0.01+0.35=1.85

			300	300x0.01+0.35=3.35

	10	WC15	150	150x0.04+0.35=6.35

			300	300x0.04 布.35=12.35

B	5	WC02	100	100x0.02 句.65=2.65

			200	200 x 0.02 布.65=4.65

C	5	WC07	200	200 x 0.03+0.65=6.65

	10	WC23	200	200 x 0.03+0.65=6.65

D	5	WC39	300	300x0.05+0.55=15.55

现在, 计算各个工序占用工作中心的时间, 即生产作业时间

一般地, 生产作业时

间的单位釆用小时

能力负荷除以可用能力即得到作业天数, 然后转变为小时（取整）

计算结果如表2.22 所示

表2-22 ZXCA-F2 的生产作业时间

物料

编码	「•序

编码	工作中

心编码	可用能力/

（额定小时/天）	订单

数量	能力负荷/小时	生产作业时间/天	生产作业时间/小时

ZXCA-F2	5	WC02	7.76	90	3.22	3.22 4-7.76=0.41	4

				120	4.12	4.12《7.76=0.53	5

				150	5.02	5.02《7.76=0.65	6

A	5	WC07	7.76	150	1.85	1.85-r 7.76=0.24	2

				300	3.35	3.35《7.76=0.43	4

	10	WC15	7.45	150	6.35	6.35 7.45=0.85	7

				300	12.35	12.35-7 7.45=1.66	14

B	5	WC02	7.76	100	2.65	2.65 -r 7.76=034	3

				200	4.65	4.65 小 7.76=0.60	5

C	5	WC07	7.76	200	6.65	6.65 -r 7.76=0.86	7

	10	WC23	7.22	200	6.65	6.65 小 7.22=0.92	8

D	5	WC39	6.84	300	15.55	15.55《6.84=2.27	19

为了计算各个工序在工作中心的开工日期和完工日期, 还需要得到物料在各个工作中心的等待时间, 移动时间和排队时间

这些基础数据如表2-23 所示

注意, 表2-23 中列出了从库房到生产加工地点的移动时间, 不考虑其等待时间, 这是因为物料只在需要时才出库

a 2-23 工作中心的等待时间, 移动时间和排队时间	单位: 小时

工作中心编码	等待时间	移动时间	排队时间

WC02	0	1	2

WC07	1	1	2

WC15	1	1	1

WC23	1	1	1

WC39	1	1	1

库房	0	1	0

下面, 采用倒序排产法计算物料的能力需求

假设表2.18 中计算物料需求计划的时段为周

倒序排产法是根据工序的完工时间减去等待时间, 移动时间, 排队时间和生产作业时间(准备时间和加工时间)得到工序开工时间的方法

首先研究物料 C 的工艺路线和制造时间

根据表2-20,物料 C 的加工工艺路线依次是工序5 ( WC07 ), 工序10 ( WC23 )o物料 C 的加工经过了三个不同的位置, 即库房,  工序 5 工序10,这些位置之间的顺序图(工艺路线)和相应的时间如图2-22 所示

L

:	物料 c 的原料库房

1	工序 5 ( WC07 )	球 10 ( WC23 )	:

1

■

i

1

1

1 1

1								1

1

1

1

1

待动: 队时时: 时间间: 间

0 2-22 物料 C 的工艺路线和时间之间的关系

根据表2-22 和表2-23 可以得到物料 C 的各种制造时间数据, 将这些制造时间数据

汇总在一起, 结果如表2.24 所示

工序	工作中心编码	排队时间	生产作业时间	等待时间	移动时间

库房	—	0	0	0	1

5	WC07	2	7	1	1

10	WC23	1	8	1	1

表2.24 物料 C 的制造时间

单位: 小时

研究物料 C 的开工时间和完工时间

首先给出一些假设, 假设每周工作 5, 每天工作 8 时, 每天上班时间是 8, 下班时间是16 点

根据表2-18 可知, 由于物料 C 的提前期是 1, 其在第 1 的计划产出量200 件是用于第 2 物料 B 的装配作业的

这200 件的最晚完工时间是第一周的最后一个工作日的结束

也就是说, 工序10 必须在第 1 的周五的16 点之前完成

由于从工序10 的工作中心WC23 转移到其他工作中心的等待时间和移动时间都是 1 时, 工序10 在工作中心WC23 的加工操作最晚必须在周五14 点完成

因为在匚作中心WC23 的生产作业时间是 8 时, 故物料 C 最晚必须在周四14 点完成

又因为物料在到达工作中心WC23 能够加工之前, 需要排队 1 时, 故该物料必须在周四11 点完成工作中心WC07 的加工, 最晚必须在周三12 点开始在工作中心WC07 的加工, 最晚必须在周三10 点到达工作中心WC07,最晚必须在周三 9 离开库房

由于采用了倒序排产法, 得到的时间需求都是最晚时间, 即最晚开工时间和最晚完工时间

至此, 我们得到了物料 C 的工序5 和工序10 的最晚开工时间和最晚完工时间, 如表2-25 所示

注意, 在这里我们把最晚开工时间和最晚完工时间简称为开工时间和完工时间

表2-25 物料 C 的开工时间和完工时间

工序	「.作中心编码	能力负荷/小时	开工时间	完工时间

5	WC07	6.65	第 1 周三12 点	第 1 周四11 点

10	WC23	6.65	第 1 周四14 点	第 1 周五14 点

按照上述步骤, 可以求出物料 C 的分时段能力需求计划, 如表2-26 所示

注意, 同一时段（周）中的能力负荷需汇总在一起

表2-26 物料 C 的分时段能力需求计划	单位: 小时

物料	匸作中心	当期	1	2	3	4	5	6	7	8	9	10

C	WC07		6.65		6.65	6.65		6.65	6.65			

	WC23		6.65		6.65	6.65		6.65	6.65			

基于上述计算过程, 针对物料D, 物料B, 物料 A 和ZXCA-F2 重复上述过程, 得到如表2-27 所示的自行车ZXCA-F2 的分时段能力需求计划表

表2-27 ZXCA-F2 的分时段能力需求计划表	单位: 小时

物料	工作中心	当期	1	2	一.3 ,	4	5	6	"7	8 .	9	10

ZXCA-F2	WC02		3.22	3.22	3.32	4.12	4.12	4.12	4.12	5.02	5.02	

A	WC07		3.35	1.85	1.85	3.35	3.35	1.85	3.35	3.35		

	WC15		12.35	6.35	6.35	12.35	12.35	6.35	12.35	12.35		

B	WC02		2.65	2.65 .	2.65	2.65	4.65	2.65 ；	2.65	4.65		

C	WC07		6.65		6.65	6.65		6.65	6.65			

	WC23		6.65		6.65	6.65		6.65	6.65			

D	WC39		6.84		6.84	6.84	6.84	6.84	6.84			

根据表2-27 中的能力需求数据, 按照工作中心将其汇总在一起, 得到如表2-28 所示的能力需求计划数据, 也即工作中心能力需求计划表

表2.28 工作中心能力需求计划表	单位: 小时

工作中心	当期	1	2	3	4	5	6	7	8	9	10

WC02		5.87	5.87	5.87	6.77	8.77	6.77	6.77	9.67	5.02	

WC07		10.00	1.85	8.50	10.00	3.35	8.50	10.00	3.35		

WC15		12.35	6.35	6.35	12.35	12.35	6.35	12.35	12.35		

WC23		6.65		6.65	6.65		6.65	6.65			

WC39		6.84		6.84	6.84	6.84	6.84	6.84			

得到工作中心能力需求计划表之后, 就可以绘制能力负荷直方图

如果可用能力大于负荷, 则表示能力多余, 闲置；如果可用能力等于负荷, 则表示能力和负荷一致, 这是最为理想的状态；如果可用能力小于负荷, 则表示能力不足

能力不足时, 需要采取合理有效的措施来解决这些问题

2.4.4 能力需求计划的评价

通过前面的分析可以看出, 能力需求计划实现了把物料需求计划转变为分时段能力

需求计划, 根据能力需求和可用能力之间的平衡关系可以判断物料需求计划是否可行的功能

下面重点讨论有关能力需求计划的前提条件, 作业交叉和时段粒度等管理问题

通常情况下, 能力需求计划的前提条件是无限能力的

也就是说, 在能力需求计算

过程中, 不考虑工作中心可用能力的限制

当求出来能力需求计划之后, 再处理有关可用能力和能力需求之间产生冲突的地方

这些问题暴露岀来之后, 管理人员可以及时采取相关措施, 在计划阶段解决可用能力不足的问题, 从而有可能提高管理效率和质量

在计算工序的开工时间和完工时间时, 需要考虑等待时间, 移动时间, 排队时间,

加工时间和准备时间等工艺时间

如果这些工艺时间之间是串行的, 那么计算过程比较简单

但是, 如果这些工艺时间之间是并行, 交叉的, 那么不同的物料之间, 不同的工序之间的交叉程度都可能是不同的

在实际生产中, 这种交叉程度既可能是线性的, 也可能是阶梯形的, 从而使得用计算机处理这种交叉现象的难度大大增加

在ERP系统中, 是否考虑这种工艺时间的交叉现象, 如何考虑交叉现象的交叉程度等, 是衡量ERP系统

是否有效的一个重要因素

可以看出,开发出一个符合生产管理实际的, 灵活有效的ERP 系统是非常不容易的



来越大, 管理的复杂性越来越高, 管理的难度也越来越大

例如, 如果时段是周, 那么

无论是周三的能力需求, 还是周四的能力需求, 都汇总在一个周次的能力需求中, 从而掩盖了周三和周四的差别

如果时段是天, 则周三, 周四的差别就可以显示出来

这种

差别是否能够显示出来是非常重要的

假设每天的可用能力需求是41 小时, 小于每周的



求都是超过了可用能力

由于时段的粒度为周, 每天存在的问题就被掩盖了

同样, 如果选择时段为小时, 则每天存在的问题就完全暴露了, 但是每个小时中存在的问题就被掩盖了

因此, 如何选择合适的时段粒度是一个不容忽视的问题

本节主要研究了能力需求计划问题

首先介绍了能力需求计划的基本概念和内容,  比较了能力需求计划和粗能力需求计划之间的区别和联系

其次, 介绍了能力需求计划的编制方式, 即有限能力计划和无限能力计划

再次, 对能力需求计划输入数据的类型和来源进行了详细的介绍, 并详细描述了能力需求计划的计算和处理过程

最后, 讨论了能力需求计划中一些关键的管理问题

2.5 车间管理与准时生产

2.5.1 车间管理概述

车间管理处于ERP的计划执行与控制层, 其管理目标是按物料需求计划的要求, 按

时, 按质, 按量, 低成本地完成加工制造任务

车间管理的过程主要是依据物料需求计划, 制造工艺路线与各工序的能力编排工序加工计划, 下达车间生产任务单, 并控制计划进度, 最终使产品完工入库

1.车间管理工作 1 ）按物料需求计划生成车间任务

物料需求计划提供的是各种物料的计划需求日期（也可以有开始投入时期）, 有的物

料可由多条加工路线, 多个车间完成

车间接收的物料需求计划订单是生产计划员根据理想状态的资料制订的, 故在投放前要仔细地核实车间的实际情况, 要检查工作中心, 工具,  物料及生产提前期等的有效性, 解决计划与实际之间存在的问题, 建立和落实车间任务,  做出各物料加工的车间进度计划（加工单）, 并根据物料短缺报告说明物料在任务单上的短缺量, 帮助管理人员及时掌握有关情况, 采取相应措施, 及时解决出现的问题

2）生成各工作中心的加工任务与进行作业排序

工作中心的加工任务也称工作中心进度表, 工作中心进度表是根据工作中心正在加工的情况, 已经进入该工作中心（排队等候）的情况, 上工序的加工情况（即将到达的加工任务）, 做出工作中心的任务计划, 以控制生产过程中任务的流动和优先级别

它显示了在某个工作中心将要或正在生产的订单物品, 已完成的数量和未完成的数量, 计划

生产准备和加工时间与订单的优先级别

3）	下达生产指令, 生产进度控制与生产作业控制

常见的生产指令如生产工单, 或被称为生产工票

每个任务可以下达一张生产工票, 也可以分开下达多张生产工票, 可以对应一个工序或多个工序

通常是一个任务对应一张生产工票, 再流经多道工序

生产进度控制贯穿了整个生产过程, 有的企业生产进度控制的主要对象是用户需求产品的最终完工进度, 但完整的生产进度控制包括投入进度控制, 工序在制进度控制和产出进度控制

生产作业控制活动在制造业的生产管理中占据非常重要的位置

车间生产管理人员的大部分工作都是在从事生产的作业控制活动

生产计划一旦被下达并被实施, 生产制造的控制活动就同时开始运作

生产作业控制的主要内容是进度控制, 质量控制,  车间物流控制与成本控制

影响生产经营活动的主要因素包括人, 设备, 物料, 计划,  资金与过程的各种信息流, 车间管理子系统的集成为企业的生产作业控制提供了良好的管理平台与解决方案

4）	能力的投入, 产出控制

调度与控制投入, 产出的工作量, 平衡与充分发挥各工序能力, 同时控制投入, 产出的物料流动, 控制在制品库存量, 保持物流平衡, 有序

5）	登记加工信息

加工任务, 生产工票记录的加工信息一般说明了任务单在工艺路线中每道工序的情况: 发放到工序上的数量, 在工序上加工的数量, 已经加工完成的数量, 已转下道工序的数量, 在工序中报废的数量, 工序计划开始与结束的时间, 实际加工的开始与结束时间, 物料的计划和实际发放量, 以及加工工作中心, 加工人员或班组, 加工工时, 台时,  完工数量, 完工时间, 废品数量和费用等

收集车间数据有助于计划和控制生产活动,  保证产品质量, 记录实际生产成本

车间数据包括人工数据, 生产数据, 质量控制数据和物料移动数据

数据收集的频率取决于企业具体的生产方法

6）	在制品管理

在制品管理也是车间管理的一项重要的工作内容, 由于物料占用了企业的大量资金, 是生产成本的主要构成部分, 车间必须对车间原材料, 半成品及成品加以严格的管理,  要有科学合理的管理方法

对车间物料要定期盘点, 对盘盈或盘亏的物料和在制品在得到有关部门确认后要及时进行调整, 要总结分析并加以预防控制

7）	统计分析

对车间生产过程的各种信息进行统计与分析, 用以改进车间管理工作

统计分析的数据有进度分析, 在制品物流分析, 投入/产出分析, 工作效率分析, 车间成本分析及车间人员考勤分析等

车间管理子系统帮助车间管理人员监督和控制车间生产活动, 同时帮助企业提高劳动生产率, 减少车间在制品, 提高产品质量

车间管理类型可以大致分为两类: 单件小批生产和大批量流水生产

单件小批生产指产品品种规格较多, 生产数量较少, 生产作业按照任务单所下达的批量在不同的生产车间和工作中心移动, 即离散型生产管理

大批量流水

生产也叫连续式生产, 是指产品品种较少, 产品系列的生产数量较多, 生产作业按照某一生产节拍以固定的顺序流动, 企业中的设备经常是按加工顺序（生产线）组织的

2.车间管理子系统业务处理流程

车间管理子系统业务流程图如图2-23 所示



图2.23 车间管理子系统业务流程图

1 ) FAS:  final assembly schedule,最终组装计划

车间管理子系统与其他子系统的关系如图2-24 所示



图2-24 车间管理子系统与其他子系统的关系

2.5.2 车间工作任务

物料需求计划生成并确认后, 就进入计划控制层

建立车间任务就是要把物料需求

计划中的物料制造任务下达给车间

一般来说, 企业的不同车间可以完成相同的加工任务, 而且不同的车间可能会有不同的加工工艺路线, 因而必须把物料需求计划明确下达给某个车间进行加工, 当然也允许把同一个物料需求计划分配给不同的车间

因此, 车间任务可以由物料需求计划自动生成, 也可以手工建立或进行物料需求计划任务分配（建立, 分割等）

有时车间还会涉及一些临时任务, 如返工, 翻修和改装等

车间任务一般的报表形式见表2-29 □

表2-29 车间任务一般的报表形式

任务号	物料需求计划号	物料代码	需求量	需求日期	车间代码/名称	任务

数量	计划开

「•日期	计划完

工日期

A001	M009	VCD333-22	10	2000/9/5	VC.01/插件车间	10	2000/9/3	2000/9/5

A002	M010	VCD333-1O	10	2000/9/7	VC.0l/插件车间	10	2000/9/5	2000/9/7

车间任务建立, 确认后, 要对任务的物料再次进行落实, 也就是对车间任务进行物料分配, 完成物料分配后就可以下达任务, 确保任务的执行

物料分配后会影响库存物料的可分配量（已分配量）, 各种软件的处理流程与方式会有一些差别

车间任务下达的流程如图2-25 所示



图2-25 车间任务下达的流程图

2.5.3 加工单, 派工单与作业排序

1.加工单

建立车间任务后, 系统生成该任务的工序作业计划, 即面向物料的加工说明文件,  即加工单

它说明了某任务（加工某物料）的加工工序, 工作中心, 工作进度及使用工装设备等

加工单是针对物料的加工计划, 因此, 各个物料的加工计划有时也被称为物料加工单, 相当于手工管理中的加工传票

而此后的加工信息则对应各个加工单, 用于维护与登录加工信息, 习惯上也叫登录工票信息

一般来说, 在工序作业计划中还要说明工序的物料完工传递方式, 如平行作业, 交叉作业等

加工单生成流程如图2-26 所示



图2.26 加工单生成流程图

生成物料加工单后, 根据各个工作中心的当前正在加工任务与排队任务等生产情况, 进行各个工序的作业安排, 即下达派工单（dispatch list）,这是面向工作中心（工序）的任务说明文件

计划员进行派工时, 需充分考虑各个任务物料的优先级别, 工序能力（工作中心能力）, 任务用料的分配等情况, 进行作业排序与派工

加工单的报表形式如表2-30 所示

表2-30 加工单

加匸单号: D01	计划日期: 2000/9/3	计划员: LH

物料代码: A00	物料名称: VCD333-22	

需求数量: 10	需求日期: 2000/9/7	

工

序	1: 序

名称	匚作中心

代码/名称	标准时间	本「•序

时间	计划进度	状态	传递

标志

			准备	匸时	台时		最早开工日期	最早完1:  日期	最迟开工

日期	最退完匸

日期		

1	插1

号板	C01 插小件组	0.1	1		10.1	2000/9/5	2000/9/6	2000/9/5	2000/9/6	开

工	正常

2	插2 号板	C02 插小件组	0.1	1.5		15.1	2000/9/6	2000/9/7	2000/9/6	2000/9/7	确认	平行

2.派工单

派工单是说明某时段（如周, 月）工作中心的加工任务与各任务优先级别的文件

它的作用是安排加工任务, 使任务的执行状态为“开工”, 它的形式也是多种多样的, 现





注: 剩余时间: 如果最早开工日期〉系统日期, 贝 U 富余天数=最早开工日期-系统日期；拖后时间: 如果最晚开工日期v 系统日期, 则拖期天数=系统日期-最晚开丁.日期；优先级别是说明加T.物料的加工先后顺序, 数字越小-般说明加「•级别越高

计算方法也较多, 一般考虑优先级别时主要考虑订单完工日期, 至完工日期剩余时间, 剩余的工序数等

示例如下: ①优先级别=最晚完工日期-系统日期；②优先级别=（最晚完工日期-系统日期）/（最晚完工日期-最晚开工日期）；③优先级别=交货剩余时间（天数）-完「剩余时间（天数）

3.作业排序

作业排序的目的是: ①将作业任务按优先级别编排；②按能力(设备, 人力)分配任务；③保证任务如期完成；④完成任务时间最短

各种任务的组合编排是比较复杂的, 企业一般要设置自己的排序方案, 并可根据需求进行适当的二次开发

作业排序方案的评价一般有以下一些常见标准

(1 )工件流程时间: 从工件可以开始加工至完工的时间

全部完工时间

延迟: 用比预定完工时间延迟了的时间部分表示, 也可以用未按预定时间完工的工件数占总工件的百分数表示

在制品库存

总库存: 总库存是计划入库量与现有库存量的总和

有效工作效率: 机器或工人的有效生产时间占总工作时间的百分比

在作业排序中, 常用到甘特图

甘特图是Henry L. Gantt于1917 年提出的

表2-32 是某车间的几种物品加工进度甘特图

表2-32 物品加工进度甘特图

工序	|	2/3	2/4	2/5	2/6	2/7 '	2/8	2/9	2/10	2/11	'2/12

A01										

A02										

A03						.	―	—	—	.

2.5.4 投入/产出控制

投入/产出控制是衡量能力执行情况的一种方法

投入/产出报告是一个计划与实际投入及计划与实际产出的控制报告

投入/产出计算主要生成某一时间段内各工作中心的计划投入工时(台时, 能力标准), 计划产出工时(台时, 能力标准)等其他信息(如初始队列等), 用户可在每周初用该程序进行计算

实际输入工时(台时, 能力标准)和实际输出工时(台时, 能力标准)数据由车间按实际进行录入维护

投入/产出报告的数据一般有计划投入, 实际投入, 计划产出,  实际产出, 计划排队时间, 实际排队时间和偏差等

比较计划投入与实际投入可以分析出输入工作中心的订单流动情况

比较实际投入与实际产岀可以看出工作中心是否正在加工所有到达的负荷, 它可以指示出工作中心的实际拖欠及实际排队情况

比较计划产出和实际产出可以得到工作中心执行计划的情况

表2-33 是一种常见的投入/ 产出报表形式

表2.33 投入/产出报表

生成日期: 2000/9/6

项目	时段

	1	2	3	4	5

计划投入/台时	100	100	100	100	100

实际投入/台时	98	96	110	98	95

累计投入偏差/台时	-2	-6	4	2	-3

计划产出/台时	100	100	100	100	100

实际产出/台时	98	97	112	100	98

累计产出偏差/台时	-2	-5	-3	T	-5

计划排队/台时	15	15	15	15	15

实际排队/台时	16	15	13	11	8

产出允许偏差: 10 台时

能力标志: 工时

投入允许偏差: 10 台时

注: 计划投入: 工作中心的计划订单与已下达订单所需的匸时（台时）；计划产出: 计划要求完成任务的工时（台时）; 实际投入: 匸作中心实际接收任务的工时（台时）；实际产出: 实际完成任务的工时（台时）；累计投入偏差: 等于实际投入减计划投入；累计产出偏差: 等于实际产岀减计划产出；计划排队: 工作中心的任务的计划排队「.时（台时）；实际排队: 工作中心的任务的实际排队工时（台时）

图2-27 是投入/产出的物流控制模型





图2-27 投入/产出的物流控制模型

负荷是由加工物料引起的, 负荷与物料的对应关系即产品的定额工作量（工时, 台时）, 因此投入/产出报表也可以对在制品的流动进行分析

分析方法参考表2.34,并可

根据结果控制物料的排队

表2.34 投入/产出报表分析

对比结果	•	存在问题

计划投入＞实际投入	加工件推迟到达	--

汁划投入=实际投入	加工件按计划准时到达

计划投入 v 实际投入	加工件提前到达

续表

对比结果	存在问题

实际投入〉实际产出	在制品增加

实际投入=实际产出	在制品维持不变

实际投入 V 实际产出	在制品减少

计划产出〉实际产出	工作中心产出落后于计划产出

计划产出=实际产出	工作中心产出按计划产出

计划产出 V 实际产出	工作中心产出超前计划产出

排队时间计算如下:

时段末的排队时间=时段初的排队时间+投入量-产出量	（2-18 ）

因此, 控制投入产出量可以控制车间物流的排队时间, 避免物料积压和排队时间过长

但是, 当能力需求增加时, 应采取适当措施进行补救, 调节

2.5.5 成组技术

据有关统计, 批量小于50 件的机械产品, 成本要比大批量生产同样的产品高10〜30

倍

各个行业都会存在这样一个事实, 小批量的产品制造成本比大批量的制造成本要高出许多

如何降低小批量产品的制造成本, 一直是小批量生产企业的研究课题

成组制造技术吸收大批量生产的优点, 为小批量生产企业提供了一个解决方案

成组技术的原理是识别加工产品的相似性, 根据这些相似性, 按照一定的工艺特点进行分类与分组, 生产时按照相似的一组加工件安排加工, 达到高效生产的目的

据统计, 机械制造业经常会有相似的加工件, 相似件的比例会达到70%〜75%,这些相似件所釆用的设备, 工装夹具有很大的相似点, 加工工艺路线也较为相似

因此, 利用成组技术可以加快工艺设计的速度, 并可以提高工艺设计水平

在组织生产时组成成组单元,  可以加大制造批量, 降低生产准备时间, 传送时间, 甚至加工时间, 从而提高生产效率





B: 刨床；X: 饨床；C: 车床；Z: 钻床；T: 锂床；M: 磨床

图2-28 生产成组单元

成组技术的基本工作是对物品分类编码, 分类编码系统以完成物品分类编码为目的

 各种分类编码系统的分类方法有所不同, 如按工艺特点分类, 按物品结构分类（外形,  物料清单结构等）

ERP系统一般在物品编码资料中或在工艺路线中可以设置出成组技术码, 这样就可以按成组技术安排生产计划

现场生产组织按加工件分组原则选择设备,  工装夹具与场地

这样, 就可以组成成组单元, 详细内容可参考有关资料

2.5.6 准时制生产

20 世纪70 年代末期, 日本制造业在石油危机的冲击下, 发动了一场向浪费挑战的生产管理变革

以日本丰田汽车制造公司为代表的制造业, 首先发展并形成了一种以消除制造过程中的一切浪费为宗旨的准时制生产管理理念

准时制生产管理理念的成功向以美国为代表的制造资源计划系统与生产管理方法发起了挑战

随着对两种方法的分析,  比较, 20 世纪80 年代末期, 管理学者又提出将两者结合起来的观念, 也就是将准时制生产管理理念嵌入制造资源计划系统, 并取得了巨大的成功

在深入接触准时制生产管理理念前, 先介绍一下重复制造的概念

重复制造是指大批量的生产环境, 目前我国许多企业均采用该种生产模式, 如汽车, 电冰箱, 电视机及空调机等的生产均属于这种生产类型

重复制造也是车间作业的一种方式, 但它有自身的一些特点, 它的生产设备通常是按产品系列进行组织设计的

重复制造的特点是: ①生产过程和生产管理简单化；②工艺路线固定；③生产线的生产能力固定；④产品的生产周期性是重复性的, 甚至多种产品的混批生产也是周期性重复的；⑤物料流动性大, 加工零件按照固定的节拍迅速地通过各道生产工序, 生产组织工作通常取决于物料统计信息的情况

当我们说到重复制造时就会想到准时制生产, 有许多软件也直接用准时制生产的生产管理方式代替重复制造的生产管理方式, 但不能混为一谈

重复制造是非生产形式, 而准时制生产管理方式是一种管理的理念与方法, 是在重复制造的生产环境下发展起来的一种先进的管理思想, 管理方法及管理工具

有的企业有重复制造的生产环境, 生产计划也按最终组装计划进行排产, 但并未利用准时制生产管理技术（如准时制生产采用拉式作业）

重复制造不一定采用拉式作业

在制造资源计划理论的发展过程中, 曾经有相当一部分人认为制造资源计划的理论不适应准时制生产管理方式, 甚至认为制造资源计划已经过时

对准时制生产管理方式的批评主要集中在它仅适用于大量重复制造的生产类型

准时制生产管理方式确实更适用于大量重复制造环境, 这是由于准时制生产管理方式的有关技术主要是在大量重复制造行业（如汽车和消费电子制造业）发展起来的

然而, 无论是西方还是日本, 采用准时制生产管理方式的企业都发现准时制生产管理方式同样可用于小批量生产类型的企业

一方面, 准时制生产管理方式倡导不断改善, 向浪费挑战, 从根本上解决导致生产率不高的问题；另一方面, 当生产设备按成组技术组成成组单元进行布置时, 小批量生产过程也就非常类

似于重复制造环境了

准时制生产管理方式强调的不是大批量的重复制造环境, 而是

其本质在于依靠缩短提前期, 减少准备时间, 减少批量和依靠员工更多的参与来达到极大地改善制造能力0

经过多年的研究和实践, 美国企业把制造资源计划与准时制生产管理方式完全融合起来, 创造了被称为美式准时制生产的方式

到1992 年, 美国应用准时制生产管理方式的企业达到全部企业的55%左右

事实上, 制造资源计划在美国占据主流的管理方式后, 也被引入日本的许多企业中, 在日本也展开过准时制生产管理方式的“看板方式”是否能与制造资源计划结合的争论

结果是日本许多企业都已把制造资源计划系统作为管理不可缺少的手段, 改进了原来基于手工的准时制生产系统

随着对准时制生产管理方式研究的深入, 詹姆斯等将准时制生产管理方式扩展为精益生产方式（lean production ）, 其管理内容包括设计, 制造, 管理与营销等, 并形成了一个完整的体系, 而日本则把 TPS （ Toyota production system,丰田生产方式）作为准时制生产管理方式的扩展体系进行研究

理论的研究与实践经验证明, 准时制生产理论与我们现时的ERP/MRP n理论可以很好结合, 越来越多的ERP系统包含了准时制生产管理方式

在实际应用时企业应根据自身特点选择软件的运行方式

在具有大批量的生产任务时, 更适合用准时制生产管理方式运行软件

本书讨论的重复制造模块主要为准时制生产管理方式, 企业如果管理不成熟, 条件不具备时不应采用准时制生产管理方式, 但要尽量创造条件向准时制生产管理方式迈进

企业是否采用准时制生产模块（或管理方式）, 现提供下列参考, 如果满足条件则可以应用ERP的准时制生产管理模块: ①物料清单准确率100%；②库存数据准确率100%;③工艺路线稳定；④生产能力稳定（设备良好, 人员稳定）；⑤生产过程中质量比较稳定；⑥物料供应稳定

ERP系统集成了准时制生产管理方式, 扩展了准时制生产的理论体系, 体现了精益生产方式的理论思想, 其一般系统具有以下功能: ①每日（或更短）的时间期；②由生产率制订计划（使用一个生产率生成器以避免分散地保存订单）;③在线更替；④组件的自动发送；⑤多个仓位的库存余额；⑥不需车间订单的能力；⑦每日或更频繁地重定计划能力；⑧每日或每周的销售计划；⑨通过模拟能力, 改变能力计划；⑩不用订单号, 以事务接受确定的计划订单（firm planned order, FPO ）;⑪适应准时制生产计算, 质量体系和减少库存的功能；⑫与供应商的联结；⑬生成看板卡的能力

1.准时制生产工作特点

（1）拉式作业与推式作业有不同的物料移动指令

推式作业方式是根据主生产计划和物料需求计划下达生产加工订单（生产工票）,根据生产工票将物料配套发往各个工作中心

上工序完工后生产工票与加工完成的物品向下工序传递, 物料是从上工序向下推动传递的；在上工序未完工前, 下工序只是等待物料, 组件加工

这样, 会形成一定的生产物料库存, 因而称为“推式作业”, 如图2-29 所示





拉式作业的物料移动来自下工序, 准时制生产作业安排实行适时, 适量, 适地的生

产安排, 当最终组装计划下达后, 下工序向上工序领取本工序需要的组件进行组装

当上工序的加工组件数量不能满足下工序的组装要求时, 产生需求信息

准时制生产中常用“看板”来传递工序之间的需求信息与库存量, 每个“看板”只在上下工序之间传递, 每道工序之间都有“看板”

这种物料需求指令方向是来自下工序, 由下工序向上工序传递加工与需求指令, 因而称为“拉式作业”

拉式作业大大地减少了在制品库存及排队等待时间, 并简化了优先级别控制与能力控制, 简化了工序跟踪, 减少了事务处理的工作量, 因而可以降低管理费用

（2）反冲法核销成本

反冲法是事后扣减物料库存的方法, 可以简化物料的发放与接受事务, 提高生产效率

反冲法利用物料完成的成品与产品报废数量, 同时根据产品的物料清单计算核销的物料库存与加工工时

一般来说, 反冲法多适用于生产节拍的重复制造作业（如总装配线）, 并要求物料清单准确率为100%,生产的统计（完工产品数,  废品数）也必须准确无误

应用时, 设立采用反冲法计算的工序起点与反冲法计算的工序结束点

（3）按生产率安排生产计划

传统的离散型车间作业按生产工票（即生产工单）下达生产任务, 而准时制生产作业管理采用按生产率（时产, 日产）安排生产计划, 不需下达生产工票, 作业计划一般是最终组装计划, 生产安排既要平衡能力, 同时又要平衡物流

2.准时制生产系统的实现

企业的生产作业既可以按离散型的车间作业管理（下生产工票）方式, 也可以按准

时制生产作业管理（日产计划）方式, 还可以按这两种混合的方式, 即有的车间按离散型的车间作业管理, 有的车间按准时制生产作业管理方式进行生产管理, 或者车间的某生产线, 某几个工作中心设置为准时制生产作业管理方式

首先设置准时制生产作业管理的工作中心及工作中心在制品区

工作中心在制品区为工作中心加工用的原材料, 完成产品, 半成品（组件）的存储货位

由于准时制生产作业管理采用固定的“看板”数, 从而限制了在制品的数量

在准时制生产系统中要定义物料移动的标准容器, 即存储的数量为一个标准数量, 相当于生产现场料箱, 按领用,

消耗并按标准容器数量自动增减在制品的账面数量, 即该工作中心具有拉式作业的属性, 如图2.30 所示





设计在制品后, 再设计在制品对应不同材料的存储货位

准时制生产作业管理不允许生产存在瓶颈工序, 不做能力计划, 因此采用增加能力

的方法消除能力不平衡

而根据准时制生产作业管理的现场管理模式, 在系统中设置“黄灯报急, 红灯报停”的系统报警, 实现网络监控

工作中心的“看板”在计算机系统中为生成的看板卡, 拉出表可视为“看板”中的移动卡, 它是用来控制物料移动的

拉出表上包含的信息有: 零件号, 单位, 在制品量,  库存量, 仓库, 货位, 需求量, 上工序工作中心代码和工序工作中心代码

拉出表报告如表2.35 所示



拉出表号: L09

生成日期: 2001/10/8

仓库: 所有

在制品货位: WIP-C201

物品代码	名称	单位	在制品量	库存量	仓库	货位	需求量	已拉出量

A01	面板组件	件	0	12	101	1101	10	0

A02	后板组件	件	0	10	102	1201	10	0

A03	底板组件	件	0	10	101	1301	10	0

生产计划报告可视为“看板”中的生产卡, 它是生产部门用来发布各个工作中心的

生产信息的

生产计划报告包含的信息有: 物品代码, 名称, 所加工的车间代号及描述, 主码代号包含了该零件的工作中心及在制品货位, 周开始日, 周数量, 以及在一周内每

日, 各时段的生产计划量

组装计划报告如表2.36 所示



周开始日	星期一	星期二	星期二	星期四	星期五	星期六	星期日

2001/10/1	5	5	5	5	5	5	5

2001/10/9	7	7	7	5	7	7	0

2001/10/17	6	6	6	6	6	6	0

报告日期: 2000/10/1

物品代码:100250

JIT车间: 装配车间

至 2000/10/8

名称: 地板组件生产线: A1

时段: 22

数字表示生产计划量

3.准时制生产系统运行, 使用流程 1)系统初始设置

系统初始设置包括以下几方面内容

物品代码中设置准时制生产标识

(2 )设置准时制生产的工作中心

设置工作中心的在制品账号, 货位, 货位物料, 标准容量(数量)与物料管

理员

设置工作中心的加工物品, 生产节拍, 生产能力, 成本工时或计件成本

设置准时制生产的生产线, 即反冲物料消耗的两点, 由以上工作中心组成

(6 )设置准时制生产的替代生产线

2)运行流程

准时制生产系统运行流程图如图2-31 所示





现对准时制生产系统运行的过程做简要描述: 由主生产计划生成能力需求计划与物

料需求计划, 同时生成各种计算与说明的例外信息, 计划员根据这些信息(同时含物流平衡计划)调整由物料需求计划生成的准时制生产线的装配计划或总装配计划；下达计划任务；根据在制品库存信息, 生成各工序的拉出表, 分配物料到生产线；加工物料流动, 由拉岀表不断传递工序间的需求信息；加工过程的拉出表是根据流出物品与上工序的在制品物料库存自动生成的；由完工物品反冲物料消耗及生产成本

复习思考题

1.简答题

什么是物料编码？其最基本的要素是什么?

什么是物料清单？其基本作用是什么？

什么是工作中心？其作用是什么？

简述主生产计划的定义及作用

简述粗能力需求计划的定义及作用

简述物料需求计划定义及作用

简述物料需求计划基本原理

简述能力需求计划定义及作用

简述车间管理的工作内容

2.计算题

(1 )某企业生产一种产品, 产品生产的批量为20,提前期为 2, 需求时界为2 周, 计划时界为 5, 当前可用库存为40,第一周的计划接受量为20,产出率为95%, 已知所接收的订单情况和销售预测, 试根据表2-37 制订该产品的主生产计划

表2-37 生产情况表

类别	时段	1	2	3	4	5	6	7	8	9	10

	过去	11/01	11/08	11/15	11/22	11/29	12/06	12/13	12/20	12/27	01/03

预测量		10	10	0	10	20	20	20	10	20	30

订单量		0	0	26	0	24	32	30	15	28	21

毛需求量											

计划接收量											

预计可用库存量											

净需求量											

计划产出量											

计划投入量											

可供销售量											

(2)若已知该产品的产品结构如图2-32 所示, 并且已知部件 B 的提前期为 1,  批量为20；部件 C 的提前期为 3, 批量为60；零件 D 的提前期为 3, 批量为25； E的提前期为 3, 批量为25

试根据题(1 )确定的主生产计划, 计算零件 D 在各个时段的物料需求





(3)已知某产品的产品结构如图2-33 所示, 试计算该产品的标准成本





图2.33 某产品的产品结构图

3.分析题

(1)在不同时界对主生产计划进行调整分别会给企业带来什么影响？

(2 )试从多个角度分析物料需求计划与主生产计划计算过程的不同之处

(3 )理解并叙述能力需求计划的能力控制机制

(4)如何实施准时制生产作业管理方式？

